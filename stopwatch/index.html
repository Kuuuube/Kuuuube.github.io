<!DOCTYPE html>
<head>
    <title>Stopwatch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        @font-face {
            font-family: Noto Sans Numbers;
            src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAB1UABEAAAAA90gAAgAPAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAdOAAAABwAAAAcpJYxxUdERUYAAAsQAAAAQAAAAHYDMgAWR1BPUwAAERAAAAwoAAC+NM7CyLtHU1VCAAALUAAABb8AACeeD4ZitU9TLzIAAAH0AAAAYAAAAGCOQoYOY21hcAAAAoQAAABZAAABSiFjHAZjdnQgAAAC6AAAAAQAAAAEACECeWdhc3AAAAsIAAAACAAAAAgAAAAQZ2x5ZgAAAwwAAAQKAAAFCDR0dFxoZWFkAAABgAAAADYAAAA2IqetKmhoZWEAAAG4AAAAHgAAACQGVwEnaG10eAAAAlQAAAAvAAAAPBspArJsb2NhAAAC7AAAACAAAAAgB3QI8G1heHAAAAHYAAAAGgAAACAAEwBsbmFtZQAABxgAAAO+AAAH46AosnZwb3N0AAAK2AAAADAAAABAADcAxHByZXAAAALgAAAABwAAAAdoBoyFAAEAAAACA9fRUrZBXw889QAfA+gAAAAA3YDT5wAAAADjtZHAABX/8gIoAtUAAAAIAAIAAAAAAAB4nGNgZGBg0f13m4GByYYBCJg0GBgZUAE/AEYdAoQAAHicY2BkYGDgZ7BlYGYAAUYGBNADEQAJBQCAAAAABAIJAZAABQAAAooCWAAAAEsCigJYAAABXgAyAUIAAAILBQIEBQQCAgTgAAL/QAAgHwgAACkAEAAAR09PRwDAAC4AOgQt/tsAAARkAYsAAAGfAAAAAAIYAsoAAAAgAAZ4nGPMYVBkAAJGXyDmYfBgsmEwBOJIIDYAYl0gFgVieyA2B2IdqLwRSC0ArCkF9AB4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgY9Bis/v8H8vUYDP7//3/1/xWoeiBgZGOAcxiZgAQTAypgROMDrWBhZWPn4OTi5uHlQ5cckgAAXyIJnwAAALgB/4WwBI0AACECeQAAACoAKgAqAEAAdACQAL4BAgEqAWABqAG6AhQCXgKEeJxtlEtMG0cYx+cb40dAAS/2rsGA4/V6dw2s12affrFgjI3BARuCgZQiDGkpFCo1bdSUHFqlveRepVJyC0ovvUGlXqocKlWKlEPTQ9pT1YpDpV5yoVJPxemsQ0Ub9TK7M6v95v//fQ+EEYsQDOH7yIHcSD4ElMgdudvQc+XQ5fw5d+TA5BUdOuxjp3185HbBX7kjsM9ViqVEleJYuPD748f4/ukWi1dIOFR+cYK+Q/uoAyFTM1SFof0uLiKUo71Bng/2Rg0+FOKj4TBCGI28+BN34B+RF5Et+DsxF5FB1yxQlRA4/SHytMheBi7SCbgjmF4dr+2oie167W2t+dFA3jDyoZC9DsDW8p11ZeWL9288XF5+eGPzk/z4p5ubt/P527amq2S5hp+giwixHEXim53QBaKpwrUlwOAN+i/L307DHwMxzudlKCv7OUL2f0ki0oOfoQGEBkE3LaxrAhdxuUUL2wppvx2GZrGnGfvGmBFKKa06mOgvVOOFhi4vmHdhZ/qRsTifzI5Gw9kegZHr2dTmuvFZG4kdJ94dJLbccg5u+mU8gkrUbeOG7XsY9JcIBJsAuZd8YOB5tBBfWszsr6caUnw72agnXhsrlrLVwVJOsPQ+SbhefvcdzCVL0oW29pUpa8OgmAWmtzIRN4OVyGhMS3f1dedC0ht2DmiyxPD3qB0xCPEczemsDiqlipqFTY5c6mBxbLve/BJqq9uPCC1o8/R0/ATo4OCgAsdN7jg4LHBen9TVfGozG2v5etKqLeUVT2dOCEAfS7NuC8A3vZcdv7lobrDRtxJ6VVpa6y8zUh9sNX+jqAx8rawVZnbTft8VppctaqVKu7Mf5mtPHR5kazfJXRcJQw4pCPk0y0HoBOhWuWC3ep4kUlY4YBNtYaT9IWxSQzPX52nV2x0PFF/XexyuLjk/bK1pqTdL6kqBPxmbKxYTJdEnpmHE+nD3SqLNWXG55Nq2nUd1ozizlxHmbj6Yr0/WxFyYHTfCxLtERHUQ7y6EVGB1loY7wDc/hl+bv+BbtcnTW6TT7JpvJ5ovkcznzhm5Q/hMaasBTBnbD4efOauEBHRiX8RFtEOgVYcwMNYweYuXysOZnanZXXNwUuTSbKpxdWZ2epYvyF4pd+muOcXlopzJlvAz8XJqeHzER+ulkdxyUq6PjpS1br86IZmV2OmxViyanD5EuXxSCr7SFV7hvF1RNarohLNCNHv+4Uyq1XGeUbtG/t22WLRFMmeNi7GHgH5v3q9T3UmmtGr0YBu0NLqmpreK6soEf2JVC6UkAS1k4N7oPgHtJKDdcnUnEyCgG8XKXkac++DBwmKxSkCH8wR0K/etOYMFMmcC/5001P9NnVenD/wghEJCawz9DToc/L0AAHicnVTNbiNFEK6xHWezu4kALRciLUVOAcW/0u4hQUghUSwjs9klUSTEZcfjTs+sx93WTM9aPnDhBRBXDjwCR8SZA0/AkWdAPAHi6552bCewSLjVM1+3q776uqeqiOhxoCig8vcV/exxQFvBvscV2gw+9bhKu8E3Htfo7eAXjzdoO/jT4zq9VWGPN2mvMvP4Hr1b+dXjLXpUrXt8n9rVrz1+QO9X//D4IT2uDTzepu82vvV4h3brX0JJUNvC6ienyuKA3gkeeVyhnaDrcZWeBp95XKO94AePN+i94DeP68TBXx5v0mml4/E9+qjyvcdbtF/53eP79LK66/ED+qT6o8cP6ePajsfbwV5t7PEOPa1/QCekaUpzyighSTEZYupSG7MLdIkdgfczWBlMpuew1PQKu5GzPaYC7xh7GeVY7zsOA86cDqmFIcFsLQoaUhNemibYVZ7xGlMB5dhLKQRKsG7AK0MMQWPgyOtLMRKsPiQ60dN5lsjYcLfd7fJlLPiZNpqfZ/qViAwfFybWWc77sTHT/LDVkomJi2Ez0pOWguG1ViZvpaFJVENmQowbEfjSNIlAvjztBRQpaCNHfhEqwC+gSuI0Vm2GpZBFGgJ0cbo2degJHVGPzjF6QAuuBVPjtn+32e48Oeqdn/eObBAbo3HDeVcJ3/a/UcY3XlewsF8jcXfLK8roSmR5ohW7qPTf6t4kKXFyQkwD05BGcJ04tzH27KdlXIHGkKCzaTTAOIGYUnSSc8gmC0diEmZj1tfc01qmggeDE9h87tTbYHNkk3XvO3rpMkS6tUI2WFONbzqfCu5PQpkoyX0V/SPDKZ65y3TlsluAb7LifyryRCq+FCF2V40FTsdI4Dmed2lHa7TG0x44iTaNlbO6cpcauWIprOwymhjxcM43EkalBAMJB9zPhBJ8lYZRrAt4LGqrrKyZG02EXV7yssIkVmal0lpwRzGgFmazWVO6q3b1IIVxNdH6N/7JrQMvY+TYK3B8m2mr7BN/Gsefm2KU4H/bTMqcOfNFb9Pa5olBmNDd1CKrykIXLinLuy+ARy6x2bUT4bz7yChGqU2d7SrzYI3hwN3/ell0cBA7eUXZetxljr/GTNz3G/pcnvm2VlbAGRrhC4cNLo/vNEHtFS7a3XqcpmufElcUoyjO0Jv4Ql+bWZgJWyXoSkLlyJNCjUTGBs3uoj/g86lQpfGgNDjgRXl3mp0mOzLv64rtdZik4RAFNkMzRO2dHb/g0BzyokdqENrG6H2aOpP0f0/yJs6/Aa6ilskAAHicbcPBCYAgAADAywUi0rS0JZq3XUt8e3CC4Xs9ZtZ+EWx2UXLIitOlau4fcoUC+wABAAH//wAPeJxjYGRgYuBjYGAQAmIpIJuBgQWIQTQjAzeQNABiEyC2AGIbIHYAYhcg9gBiHyAOAOIQII4AqmcgFgMA2aIDSXic7VprSBtZFD7zyCSZPGYyM5nMTF4TESlSpJTij1JEu664brTBlkVKKWtiXbFZK1Fct5SlSCmlLLKU0h8iIkXK/iilyFKKFCmlSCml+KPIIiJFFiml7I9SpCzF7p2b0b4So8bsprshzLk353z33HPOvefeOw8gAIAlOkgNmPqG6BGoSPyYSkJNx4mBvRBHtB1ufpc6cRIWk+39PQQJNMLD27dgRQUBJFBgARuwwAPZ/HW9Dvzh1oOIZsQEgG6ua9Uh0PJlDNHDdS2YHtFhH8bb1/E0bmFHbQw++wGfMSUyUFibjLXJWJucVQ+yry4WawT+K0wz2lcFVoyp+sKw6SBGVjXXNeqIHooi2lL3DaKth5oRzajB4Nne41kx19EeH+iD+vaTXT3QFU/+0Ac9icT3vXAm0Z3oh6HOVHsCLiRPJZIwjOnlU6mOHhjpTZ3og/Hevv4+uI508lib4YsDOPTPAwKIIIEXee0DBVTcrwtRC2jgR9EOQgjzAFO3aZdBnZgSmFKI0mZkDQwFYdAhAmXQADFogzggi2AcfoVJuAMzMAvzsATPiSfEAvEH8YJYIVZJhtxNtpKD5Bh5n3xEPiFfkatUGRWjBpFOHgiqBulljN6oJlySVJSKm7Ue6iKueahRapJ6QC1Sr2iW1ulqOkrH6UF6mJ6gp+hZetliwzjKYrOELPvS+iw1yG7UgyWGPEvXjq3XutZr/eu1s6iWbvmzWY7gMmUZtdy3LDNuppo5zpxnbjBzzKq1wtpiHbCOWe9al2y0rcLWaOu2XbJN2ZbsrH2v/ah9yH7T/jsLbBlbw37LDrET7Az7zME6djtaHL2OS47fHHOO107JuccZdXY5zznHnfecz12Cq9bV5briuu166ibdle6ou8f9i3vS/cS9wglcFdfEdXJD3Bg3xc1yy9wbXuH38TE+yV/gJ/i7/AK/6tE81Z7jnrOeq55pz7xnRRCEKqFJ6BSGhDHhrrAgvBYlsVKsFePiOXFEvCnOiAviS8mGYoA8FvenPRfrzbIhPRJio9hhIgZMySCOGieeF8fEW+JjcVlclWSpSmqQjksD0rB0TZqW5szYctID6an02st7d3lrvW3eXu8F77j3tnfW+0wGWVlDyaxcJu+XW+VueUgekSflh/KS/JdP8FX6DvqOrqF8UV+H74zvsu+6775vwfdKcSrlygHliJJUzimjayhlWLmmTCtzyp8qo4bUarVF7VR/Uq+oN9QZdRGjkBfqbNobdR6XLnVBfanZtHKtVjumDWrD2oQ2pc1pL/zp+UVqq34J1zi/7j/gb/P3+y/6x/23/I/8SwE6oAcaA92B84GrGCMFxgN3AotBCO4KNgVTwcvBO8HFEBPaFYqFBkPXQo9Db8Ll4dbw6fQcD58OXwnfDs/rpF6pR/V+fVSf1pcj7sieSFvkbORq5CFe36jIw8jTyArOTSNzCZTrYOarcTFmjcKSdG6/k2+WSyJK4xVjY1kmG0rc7XIFVMpohQ69J/kQIaHIK2j91qE8A2ZnbCERR8C/j3WTaIdx/2PczHP1/RluXBKOB5kjIiTSJCOaPbab1VTCFRcu98h+Pohij/XOj52Bo3KuZyReFWkUtzKogMosyMJ5I+D+iQ1Glke6CKRtO61LiOJEbDSqxSXLvfJsNs8KkY+F0rpzXu+UpmKZuTuD4LHX8BnL0idZyINbTN4UQkab8yD0iTRfzRZzd01nTPacyW1B4Wz8L8j+nehsJYd2YoTzz+RCrgXGk9MP72CZT2rG3axi7uOfasguy/1Ex7DNaZ4PSvwSv8Qv8Uv8Ev//xs++C29tp9/ePr19Wf5nk417znRmSN/REqjNZlsAZH5/sFV7tnvmzGZV5v7zxa69hyE+wm8ugu/e0RAZT3Sb72XjU2d2C/KzP3fr3Iidi0FJ01ZwFtxf+gkaYXz1kgVZ0lpceVC8M6rUYyF6zOfrDHT9DfPncmQAeJztXU+oZTcZz3tja32CDOUtWsGHq2FwOQziogspUhhxIcWVC7E4g5QOXbwOghtXLlyKbhRm4erpQuG5sfZ2Wqreih31TqntcGs7FC/SafVabKXjX4g5OTk5+Z8v/87Jue/+Hve+nCTnS25O8uXLl3zfQTsIoT30TfQsuvszD33uC+jMV75+eBmdv3jpa+fQg+T7EfT5rx5eegx96fIjVx5Hl9EHSH6EMdol/3atVzvolPXKcN/FR5+4gj5Kvz/+2KXDx9En6Pd5ktrci8hnh+RrQ4iGm29E6OyhfXSAzqB70GkSc4am3UM+n3rikzS0c+1F8k1KeebgmfOUzj75NHnvYzS6z+7hv5p6Hb51+Hd0EX0XMeA1EoDvIBDku2KhUvGWfjaNvi9PE24/XUjKuTTeD2yx4YAXxUsgLYFvR96bpeeko3lu9T272hDaQmEjjowz41Mwj7TYOoXDXf4WcRhvtMklb9gc919AnjtyuP2Y5ripoDBfWrlnB7wClzuH5kyF6RfiWdYS5mZ6U+eWwX0JMOJC6KeMQVv/sj0TV48gHMHRr/Es6jkHcjMoXG1mkCcsT8Aaz9shRRJxtuZE+S4U7eziSJ/c72+ftSi7+vLSVlh2fUjtK/A5JBxaWQEySF/3vHWCoo41mUliGhshPSZ0jqoHOVvaRMvDs0Gla+Nr0hJQcO0LzekloXHvd/tY6z2tFpC1jk3719OwShPrdj0h16atS0xvL8iL9p3lvmu+EqSllYXCgRB/v0Ql52+5qFw/kEJM7TGWXFq6X9cAm42l2H1raQuzBr+LU9J4Hx5A/jpwJcraY0sryRS6q7NCvLMMOAwt+EUly0PBNAEyVg6UepJl6E5P7i8JjRMsEN+9aVb2ZN4QZD6XLgm25+OTINUSpNLXpthQ4OPwu+lsuYD8xtHWLGuXDIUXsXtlpQEbjb45To6HzZt2OrKUAauPOA/o99ewdrOh5rrJmE5NkUeOLYdOGqOfFY+Z2zk3TY/kp+p9pJxu7gCu6BotHVuHXHXk4jrjGO4NrYl0tdDjWIpQz3aGtNATT3V8S4y37GFcxUcseI7wa5HDdLL3ksR/Ry1DpNat8pT7u3L5XM70gavUcxqO/Smh/aBPzLZSkGJXghQg1z5lxDn1CSX1pKPj3LDFafLmSNJ4x3Xs6aH0UmoDowbUDAL4ESS+peWU+I+H21v2I/AJ2DQztlV2kiZnDHD9S68dXAXzstBWEuKnsc4WW6lfN5CZ1j6zJWjaNa39In6vyzV39+NS1fvmxaQk8i22CAB+f+wapEHg+7JcLa0+Ok5B1mHzLqfK4fAfrGV03PMYXKu1us5iq9QVq0UJ+VCWccPXCZDdxmp3JEkL89U/njVrQPK3pOF+zpOf+B5bvc15b9lHexby+0yiaFr1oCuFXJE/3jtWwv9uLTvnksiBbSajteZPq+1joibA/ptpetvP9uzPm9A/CJZgU/sSZL018JpsVNj6VTo+XIzyYDCcI5T6q7DvPeM8VNXJrc1hIXYmpoqjkfCOnlPIJTPNjsg58C10svpuPAq0Uon1VjxNk/7RTM9yTiBonUp66Kwvgc1exzRe7rXiWJiFliLc2/b6fm7i59L5TLvSJBlpjm326wB67yMemg+rhcS/I59nhevr5HODhfn/LiTku8ZDryaUfhO/atKSUw3G8/F0y0M8aQu28pGeLEDvLfetlBMoRaXWctqBIfUO5fVYbY+m/OhnQuxzcl9vwviNJlaMx7fwyzz8q4Q6PEf+TCPuTfJ5Ekojvvx8cOuz/fn9zzt+16yUXTR+kYf+RL9vyyc+pHnvNuOjv9fPhOA/89A/Empj2VvB7yCwzbZ4qjUXhFHzC/r9Or7ahljsS8JalYwq/KOGG9O7hFUKidFmPZbyc/Z/ht8A1GaOf2laffYSjCHtLeX6ZXM+b9kj72jC9UVbBGCkMyebjbx2u7lLHoOWRFfVNhSyQymzH1eSlovuUPwv9akb1+sZZRiVVi2nQ3S4tBPC6J/3V8o+h1+qPJKuwvQfTi126VYUtJCuVuK7AIKuMrhmco9RdCr8fINpHCfZuIu2mNHnihPKL8CX4D4B3Fb5MbSHgm8VUcKHx7BI5vDeFjiZPnNKYxyfOfhtIWxeo/8ljvKmAP8n6q6/ZSv/37koRddgqUllvN+xa8E+TBulRklEPikq2IAu8Iztghg1Idzy2ShzSjuV4in4eX9ywUhXlyEeMHkWonufOTV25fa6Nxbw2SeJ7xfTnJSePf22/zStH7vLbt8xueRkmTSfVAvTDkTux/ltPrW93lph32ky5GKxudcedF/LxJUbblvZTlO+eX1qMHl0CL2rVoRpdJHHJ3O5OngoTNrjzxaxaE7YiLuWxjzXXadk8G/Sa6DFNVbEP0yjmwL8NA89Rb9fI59XhPQbcrjJReZt/fzS02qMkv62O53lWuIbTQ20+IZ/XIdQaOa42N3dMOBHE+69kq8edSPCPusVa8rrQtj7jK2619pWk3cr2ot7lfQPkfT3Bq91yMrurthCzKddhwL+cmDvrNZWhSOolxh3KRP1aLXsYJjRzyH4r+5ceN6eGYLOOkG1sHO4W0AKbzbnC3PCoQnI6AGp2Dk+zZ9KmXK2gAF/X7l+Qbk2yOFE8nP0fvzHhNrctJ08DKJS/N081pItFqnWXCvbeI6QxqL5eaazXFXPJ7WhsyuDnD+C+DUhfLS31Vl4R8C+jSqtlSBRqmd1XbZ3eQCxFVFTqGbV6y8PtXa7vBxll6w71XS7n0dl6z/FQ6xTgpMsgtU0zj3ZzqDTs6EfzR6jUC85TfU26ehLfC+StRK1L1so9mV8v1Jrf+1kG8kjnQKkGhRxF5NblPV+3PoyoBKW6ZdI16P52K/Z/9I4yHqSNcm/93AASgJLW+tUeX5pR/s079jcvfCD5u2XF7594Xvo0/3bL08iKEfL6it9AxDs3xuKEX0Su3xUzcZbiZhQN5+sEZjysGYNLNmpCrtD9BxWY7d6Df+YxXBrf/xrnutmQh2exz/17dlsEorZ8fS+gCY0Dqx2GPydFC6LErc3FHalyffMu4SBd3X+dYs9I6sGk9UpSN4T7yH/v2HMI/iNtvlEJHk0DxaKXQbzqwh7FxKk/in+UUthvHMh0HtgHiPTYe5LPNVtkSH4t9a0KXy9nKOtt7r1saF6xDHH56FJr1ac6w3iQ74OjGeLHKGlX8mzkpQWsVrg3pio/sA74u2eAk32hIJWVbPvrUYbFWzh5n33iZdCtn3WGkdTKVT1WzO90ywCql889R1oLhTTn+QD5K3OJd8xZeBL9Z8FYgjmqao+cbBfOuZYrutNqiktYX/e6dLb2P6PSsG4n2p7H4hxNS6/7y+pLomjIF9NNMqa9xW8Nntkad6ZZIyfk78RreiEtVKGd7CoZ5Koh7h3hGvBXqCTD0nLvET//9NI8bcJtXmtpWxMe8GWMiRirOiy18FBdzwruqqk2NFRzypwizqA35/EW0Xks1uqHYcPp02R+L3YykwEHwzM/7EitSgAv686nzViQtlH/jxjYDvPxWHr9zUc6X1tcyzFM625jHv37mu9Dua3+Lru4Ndzc/zwSF6jb/mgEdt2gWCs/j/o2yPobpjg8YzqT9yaLXyrOd0vv6tby7MS7DCkPTvV76yrLIe1pMGLtdPD1BHTiCzZf8nKxjXvw/iob1dELUEqvePYmmc7OEg7ut/AI9kM9SWy1hDtOgTveXAdJ6zmPmqavYuQX/RhDquTsYTjuLvpib2uZViLUasbvS+53kidpy+prVRHX1rrfWlKKOFrV2+lXKVvLqyWgCtILu2uInO4t/Syu5aAt7cY7tr2sCjgnwhhgzecctqlkwY6g4y+861JlbG+rE2reM/cWKs+MQ3uE3fl+VJddlzZ4PVBNP5Y2iIr1HOP2bxCe6XTNf4fJN/0MOpZuNDWDJQqQSsUce3IbPJ1S6hJyY6jvGXOvYcxwBw3mT2UOB4y0mm24c7kKp6bR22lwnwpHmIrbaXKspgUzwcC5s0Feb3/lIbXfvjkvEk15Jeq8vGQdkLSaizOxmykETdAXwrWrW8g7wmG7qUJoV30cOOjCT2IPovuav1By3t0rQxP2++sFLqjUT1F/T414SZ0L/l8RMpxipS2j+4j4dNqff4P3NpnZgAAAAEAAAAA41/MHQAAAADdgNPnAAAAAOO1kcA=);
            /* src: url(NotoSans-Regular_numbers.woff); */
        }

        html, body {
            margin: 0;
            overflow: hidden;
            cursor: pointer;
            user-select: none;
            touch-action: manipulation;
        }
        body {
            font-family: 'Noto Sans Numbers', monospace;

            color: black;
            fill: black;
            background-color: white;
        }
        svg {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
        }

        #info {
            position: absolute;
            left: 0;
            right: 0;
            margin-inline: auto;
            width: fit-content;
        }

        @media (prefers-color-scheme: dark) {
            body {
                color: white;
                fill: white;
                background-color: black;
            }
        }
    </style>
</head>
<body>
    <div id="info">Click to start and stop, Double click to reset</div>
    <svg id="stopwatch"><text id="svg_text"></text></svg>
</body>
<script>
let timer_running = false;
let keep_timer_alive = true;
const start_timer_display = "00:00.0"
let start_time = null;
const stopwatch_svg = document.querySelector("#stopwatch");
let timer_offset = 0;

let timer_loop_timeout = null;

function update_svg(svg_element, text) {
    svg_element.querySelector("text").textContent = text;
    const svg_bounding_box = svg_element.getBBox();
    svg_element.setAttribute("viewBox", svg_bounding_box.x + " " + svg_bounding_box.y + " " + svg_bounding_box.width + " " + svg_bounding_box.height);
}

function get_timer_delta() {
    const current_time = Date.now();
    return current_time - start_time;
}

function timer_loop() {
    timer_running = true;
    const date_delta = new Date(get_timer_delta() + timer_offset);
    const stopwatch_string = date_delta.getMinutes().toString().padStart(2, "0") + ":" + date_delta.getSeconds().toString().padStart(2, "0") + "." + date_delta.getMilliseconds().toString().padStart(3, "0")[0];
    update_svg(stopwatch_svg, stopwatch_string);
    timer_loop_timeout = setTimeout(timer_loop, 100);
}

function end_timer_loop() {
    clearTimeout(timer_loop_timeout);
    timer_running = false;
}

document.addEventListener("click", (e) => {
    if (!timer_running) {
        keep_timer_alive = true;
        start_time = Date.now();
        end_timer_loop();
        timer_loop();
    } else {
        end_timer_loop();
        timer_offset += get_timer_delta();
    }
});

// double click event fires after all other mouse click events
document.addEventListener("dblclick", (e) => {
    start_time = Date.now();
    e.preventDefault();
    update_svg(stopwatch_svg, start_timer_display);
    end_timer_loop();
    timer_offset = 0;
});

window.addEventListener("load", (_) => {
    // doing this twice magically stops a reflow when clicking to start the timer
    update_svg(stopwatch_svg, start_timer_display);
    update_svg(stopwatch_svg, start_timer_display);
});
</script>
